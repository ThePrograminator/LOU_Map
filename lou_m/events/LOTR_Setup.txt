namespace = lotr_setup

# Add global start-up stuff here
country_event = {
	id = lotr_setup.1
	title = lotr_setup.1.title
	desc = lotr_setup.1.desc
	picture = ASSASSINATION_eventPicture
	
    hidden = yes
    is_triggered_only = yes

    trigger = {
        NOT = { has_global_flag = completed_lotr_setup }
    }

    immediate = {
        set_global_flag = completed_lotr_setup
    }

    option = {
        name = lotr_setup.1.option.a
        
        # --- Logging flags
        #   Comment these for release builds
        #   Enabling these will spam the game.log
        set_global_flag = enable_onaction_logging
        set_global_flag = enable_event_logging
        
        # Power system flag
        # set_global_flag = power_enabled

        if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - Global lotr_setup" }
    }  
}

# Add country-specific start-up stuff here
country_event = {
	id = lotr_setup.2
	title = lotr_setup.1.title
	desc = lotr_setup.1.desc
	picture = ASSASSINATION_eventPicture
	
    hidden = yes
    is_triggered_only = yes

    trigger = {
        NOT = { has_country_flag = completed_country_lotr_setup }
    }

    immediate = {
        set_country_flag = completed_country_lotr_setup
    }

    option = {
        name = lotr_setup.1.option.a

        if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - Start lotr_setup" }
        
    }  
}

# Add country-modifier for all Races
country_event = {
	id = lotr_setup.3
	title = lotr_setup.1.title
	desc = lotr_setup.1.desc
	picture = ASSASSINATION_eventPicture
	
    hidden = yes
    is_triggered_only = yes
    fire_only_once = yes

    trigger = {
        NOT = { has_country_flag = completed_race_country_setup }
    }

    immediate = {
        set_country_flag = completed_race_country_setup
    }

    option = {
        name = lotr_setup.1.option.a

        #Human
        set_country_modifier_human_effect = yes
        #Dwarven
        set_country_modifier_dwarven_effect = yes
        #Dragon
        set_country_modifier_dragon_effect = yes
        #Elven
        set_country_modifier_elven_effect = yes
        #Erus Children (Great Eagles)
		set_country_modifier_erus_children_effect = yes
		#Goblin
		set_country_modifier_goblin_effect = yes
		#Giant
		set_country_modifier_giant_effect = yes
		#Great Spider
		set_country_modifier_great_spider_effect = yes
		#Half Dwarf
		set_country_modifier_half_dwarf_effect = yes
		#Hobbit
		set_country_modifier_hobbit_effect = yes
		#Half Orc
		set_country_modifier_half_orc_effect = yes
		#Orc
		set_country_modifier_orc_effect = yes
		#Troll
		set_country_modifier_troll_effect = yes
		#Uruk Hai
		set_country_modifier_uruk_hai_effect = yes
		#Wizard
		set_country_modifier_wizard_effect = yes
		#Wights
        set_country_modifier_wights_effect = yes
    }  
}

# Add country-modifier for Human Race
country_event = {
	id = lotr_setup.4
	title = LOTR_HUMAN.1t
	desc = LOTR_HUMAN.1d
	picture = COURT_eventPicture
    
    is_triggered_only = yes

    immediate = {
        add_country_modifier = {
			name = "human_buff"
			duration = -1
		}
    }

	option = {
        name = LOTR_HUMAN.1a
        tooltip = {
            add_country_modifier = {
                name = "human_buff"
                duration = -1
            }
        }
	}
}

# Add country-modifier for Dwarf Race
country_event = {
	id = lotr_setup.5
	title = LOTR_DWARF.1t
	desc = LOTR_DWARF.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "dwarven_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_DWARF.1a
		tooltip = {
            add_country_modifier = {
                name = "dwarven_buff"
                duration = -1
            }
        }
	}
}

# Add country-modifier for Dragon Race
country_event = {
	id = lotr_setup.6
	title = LOTR_DRAGON.1t
	desc = LOTR_DRAGON.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "dragon_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_DRAGON.1a
		tooltip = {
            add_country_modifier = {
                name = "dragon_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.7
	title = LOTR_ELVEN.1t
	desc = LOTR_ELVEN.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "elven_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_ELVEN.1a
		tooltip = {
            add_country_modifier = {
                name = "elven_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.8
	title = LOTR_ENT.1t
	desc = LOTR_ENT.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "ent_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_ENT.1a
		tooltip = {
            add_country_modifier = {
                name = "ent_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.9
	title = LOTR_ERUS_CHILDREN.1t
	desc = LOTR_ERUS_CHILDREN.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "erus_children_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_ERUS_CHILDREN.1a
		tooltip = {
            add_country_modifier = {
                name = "erus_children_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.10
	title = LOTR_GOBLIN.1t
	desc = LOTR_GOBLIN.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "goblin_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_GOBLIN.1a
		tooltip = {
            add_country_modifier = {
                name = "goblin_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.11
	title = LOTR_GIANT.1t
	desc = LOTR_GIANT.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "giant_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_GIANT.1a
		tooltip = {
            add_country_modifier = {
                name = "giant_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.12
	title = LOTR_SPIDER.1t
	desc = LOTR_SPIDER.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "great_spider_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_SPIDER.1a
		tooltip = {
            add_country_modifier = {
                name = "great_spider_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.13
	title = LOTR_HALF_DWARF.1t
	desc = LOTR_HALF_DWARF.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "half_dwarf_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_HALF_DWARF.1a
		tooltip = {
            add_country_modifier = {
                name = "half_dwarf_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.14
	title = LOTR_HOBBIT.1t
	desc = LOTR_HOBBIT.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "hobbit_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_HOBBIT.1a
		tooltip = {
            add_country_modifier = {
                name = "hobbit_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.15
	title = LOTR_HALF_ORC.1t
	desc = LOTR_HALF_ORC.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "half_orc_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_HALF_ORC.1a
		tooltip = {
            add_country_modifier = {
                name = "half_orc_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.16
	title = LOTR_ORC.1t
	desc = LOTR_ORC.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "orc_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_ORC.1a
		tooltip = {
            add_country_modifier = {
                name = "orc_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.17
	title = LOTR_TROLL.1t
	desc = LOTR_TROLL.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "troll_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_TROLL.1a
		tooltip = {
            add_country_modifier = {
                name = "troll_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.18
	title = LOTR_URUK_HAI.1t
	desc = LOTR_URUK_HAI.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "uruk_hai_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_URUK_HAI.1a
		tooltip = {
            add_country_modifier = {
                name = "uruk_hai_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.19
	title = LOTR_WIZARD.1t
	desc = LOTR_WIZARD.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "wizard_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_WIZARD.1a
		tooltip = {
            add_country_modifier = {
                name = "wizard_buff"
                duration = -1
            }
        }
	}
}

country_event = {
	id = lotr_setup.20
	title = LOTR_WIGHTS.1t
	desc = LOTR_WIGHTS.1d
	picture = COURT_eventPicture
	is_triggered_only = yes
    
    immediate = {
        add_country_modifier = {
			name = "wights_buff"
			duration = -1
		}
    }

	option = {
		name = LOTR_WIGHTS.1a
		tooltip = {
            add_country_modifier = {
                name = "wights_buff"
                duration = -1
            }
        }
	}
}

# Flag Setup
country_event = {
	id = lotr_setup.21
	title = lotr_setup.1.title
	desc = lotr_setup.1.desc
	picture = ASSASSINATION_eventPicture
	
    hidden = yes
	is_triggered_only = yes
	fire_only_once = yes

    trigger = {
        NOT = { has_global_flag = completed_lotr_flag_setup }
    }

    immediate = {
        set_global_flag = completed_lotr_flag_setup
    }

    option = {
        name = lotr_setup.1.option.a
        
        trigger_switch = {
			on_trigger = started_in
			2954.1.1 = { setup_global_flag_after_2953 = yes}
			2943.1.1 = { setup_global_flag_after_2942 = yes}
			2794.1.1 = { setup_global_flag_after_2793 = yes}
			2771.1.1 = { setup_global_flag_after_2770 = yes}
			2760.1.1 = { setup_global_flag_after_2759 = yes}
		}
    }  
}