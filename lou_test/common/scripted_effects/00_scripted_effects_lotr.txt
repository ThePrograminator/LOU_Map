#Unsorted Scripted effects:
create_thorin_company_path = {
	83 = {
		set_province_flag = thorin_company_path
	}
	
	84 = {
		set_province_flag = thorin_company_path
	}
	
	74 = {
		set_province_flag = thorin_company_path
	}
	
	1804 = {
		set_province_flag = thorin_company_path
	}
	
	299 = {
		set_province_flag = thorin_company_path
	}
	
	263 = {
		set_province_flag = thorin_company_path
	}
	
	173 = {
		set_province_flag = thorin_company_path
	}
	
	1817 = {
		set_province_flag = thorin_company_path
	}
	
	300 = {
		set_province_flag = thorin_company_path
	}
	
	1442 = {
		set_province_flag = thorin_company_path
	}
	
	291 = {
		set_province_flag = thorin_company_path
	}
	
	293 = {
		set_province_flag = thorin_company_path
	}
	#
	384 = {
		set_province_flag = thorin_company_path
	}
	
	226 = {
		set_province_flag = thorin_company_path
	}
	
	386 = {
		set_province_flag = thorin_company_path
	}
	
	1679 = {
		set_province_flag = thorin_company_path
	}
	
	232 = {
		set_province_flag = thorin_company_path
	}
	
	1875 = {
		set_province_flag = thorin_company_path
	}
	
	1127 = {
		set_province_flag = thorin_company_path
	}
	
	558 = {
		set_province_flag = thorin_company_path
	}
	
	1126 = {
		set_province_flag = thorin_company_path
	}
	
	685 = {
		set_province_flag = thorin_company_path
	}
	
	1887 = {
		set_province_flag = thorin_company_path
	}
	
	672 = {
		set_province_flag = thorin_company_path
	}
	
	673 = {
		set_province_flag = thorin_company_path
	}
	
	408 = {
		set_province_flag = thorin_company_path
	}
	
	314 = {
		set_province_flag = thorin_company_path
	}
	
	526 = {
		set_province_flag = thorin_company_path
	}
	
	3167 = {
		set_province_flag = thorin_company_path
	}
	
	316 = {
		set_province_flag = thorin_company_path
	}
	#
	1901 = {
		set_province_flag = thorin_company_path
	}
	#
	1902 = {
		set_province_flag = thorin_company_path
	}
	#
	528 = {
		set_province_flag = thorin_company_path
	}
	#
	527 = {
		set_province_flag = thorin_company_path
	}
	#
	1903 = {
		set_province_flag = thorin_company_path
	}
	
	287 = {
		set_province_flag = thorin_company_path
	}
}

create_fellowship_path = {
	83 = {
		set_province_flag = fellowship_path
	}
	
	84 = {
		set_province_flag = fellowship_path
	}
	
	74 = {
		set_province_flag = fellowship_path
	}
	
	1804 = {
		set_province_flag = fellowship_path
	}
	
	299 = {
		set_province_flag = fellowship_path
	}
	
	103 = {
		set_province_flag = fellowship_path
	}

	1580 = {
		set_province_flag = fellowship_path
	}
	
	1835 = {
		set_province_flag = fellowship_path
	}
	
	263 = {
		set_province_flag = fellowship_path
	}
	
	173 = {
		set_province_flag = fellowship_path
	}
	
	264 = {
		set_province_flag = fellowship_path
	}
	
	300 = {
		set_province_flag = fellowship_path
	}
	
	1442 = {
		set_province_flag = fellowship_path
	}
	
	291 = {
		set_province_flag = fellowship_path
	}

	293 = {
		set_province_flag = fellowship_path
	}
	
	384 = {
		set_province_flag = fellowship_path
	}
	
	226 = {
		set_province_flag = fellowship_path
	}
	
	386 = {
		set_province_flag = fellowship_path
	}
	
	1679 = {
		set_province_flag = fellowship_path
	}
	
	232 = {
		set_province_flag = fellowship_path
	}
	
	1589 = {
		set_province_flag = fellowship_path
	}
	
	1582 = {
		set_province_flag = fellowship_path
	}
	
	1678 = {
		set_province_flag = fellowship_path
	}
	
	1368 = {
		set_province_flag = fellowship_path
	}
	
	1866 = {
		set_province_flag = fellowship_path
	}
	
	739 = {
		set_province_flag = fellowship_path
	}
	
	740 = {
		set_province_flag = fellowship_path
	}
	
	281 = {
		set_province_flag = fellowship_path
	}
	
	290 = {
		set_province_flag = fellowship_path
	}
	
	289 = {
		set_province_flag = fellowship_path
	}
	
	233 = {
		set_province_flag = fellowship_path
	}
	
	745 = {
		set_province_flag = fellowship_path
	}
	
	392 = {
		set_province_flag = fellowship_path
	}
	
	277 = {
		set_province_flag = fellowship_path
	}
	
	1642 = {
		set_province_flag = fellowship_path
	}
	
	3142 = {
		set_province_flag = fellowship_path
	}
	
	270 = {
		set_province_flag = fellowship_path
	}
	
	278 = {
		set_province_flag = fellowship_path
	}
	
	1001 = {
		set_province_flag = fellowship_path
	}
	
	1043 = {
		set_province_flag = fellowship_path
	}
	
	1045 = {
		set_province_flag = fellowship_path
	}
	
	661 = {
		set_province_flag = fellowship_path
	}
	
	323 = {
		set_province_flag = fellowship_path
	}
	
	574 = {
		set_province_flag = fellowship_path
	}
	
	573 = {
		set_province_flag = fellowship_path
	}
	
	48 = {
		set_province_flag = fellowship_path
	}
	
	50 = {
		set_province_flag = fellowship_path
	}
	
	47 = {
		set_province_flag = fellowship_path
	}
	
	3054 = {
		set_province_flag = fellowship_path
	}
	
	51 = {
		set_province_flag = fellowship_path
	}
	
	418 = {
		set_province_flag = fellowship_path
	}
	
	52 = {
		set_province_flag = fellowship_path
	}
	
	999 = {
		set_province_flag = fellowship_path
	}
	
	1000 = {
		set_province_flag = fellowship_path
	}
	
	148 = {
		set_province_flag = fellowship_path
	}
	
	3033 = {
		set_province_flag = fellowship_path
	}
	
	1020 = {
		set_province_flag = fellowship_path
	}
	
	147 = {
		set_province_flag = fellowship_path
	}
}

give_minas_ithil_to_gondor = {
	if = {
		limit = {
			413 = {
				owned_by = X01
			}
			any_province = {
				owned_by = X01
				region = gondor_region
			}
		}

		harithilien_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		ithilien_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		forithilien_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		emyn_arnen_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		minas_ithil_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		nindalf_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
		athrad_poros_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
	}
}

give_black_gate_to_gondor = {
	if = {
		limit = {
			413 = {
				owned_by = X01
			}
			any_province = {
				owned_by = X01
				region = gondor_region
			}
		}

		morannon_area = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
				NOT = {
					province_id = 71
				}
			}
			cede_province = X01
			remove_core = V17
			remove_core = V18
			if = {
				limit = {
					culture = culture_orkish
				}
				change_culture = culture_wilderness
			}
			if = {
				limit = {
					religion = religion_orkish
				}
				change_religion = religion_wilderness
			}
		}
	}
}

give_gondor_region_to_gondor = {
	if = {
		limit = {
			any_province = {
				owned_by = X01
				region = gondor_region
			}
		}
		
		gondor_region = {
			limit = {
				OR = {
					owned_by = V17
					owned_by = V18
				}
			}
			
			add_core = X01
			cede_province = X01
			remove_core = V17
		}
	}
	
	#if = {
	#	limit = {
	#		NOT = {
	#			any_province = {
	#				owned_by = X01
	#				region = gondor_region
	#			}
	#		}
	#	}
	#	
	#	gondor_region = {
	#		limit = {
	#			owned_by = V17
	#		}
	#		
	#		add_core = Y07
	#		cede_province = Y07
	#		remove_core = V17
	#	}
	#}
}

give_rohan_region_to_rohan = {
	if = {
		limit = {
			any_province = {
				owned_by = X16
				region = rohan_region
			}
		}
		
		rohan_region = {
			limit = {
				owned_by = V17
			}
			
			add_core = X16
			cede_province = X16
			remove_core = V17
		}
	}
	
	if = {
		limit = {
			NOT = {
				any_province = {
					owned_by = X16
					region = rohan_region
				}
			}
		}
		
		rohan_region = {
			limit = {
				owned_by = V17
			}
			
			add_core = Y08
			cede_province = Y08
			remove_core = V17
		}
	}
}

set_mordor_region_empty = {

	mordor_region = {
		limit = {
			owned_by = V17
			NOT = {
				province_id = 48
				province_id = 573
				province_id = 675
				area = thaurband_area
				area = lithlad_area
				area = maegond_vale_area
				area = urlutsu_nurn_area
				area = nurnen_area
				area = sturlurtsa_nurn_area
				area = cirith_nargil_area
				area = cirith_nurn_area
			}
		}
		
		cede_province = ---
		change_culture = culture_wilderness
		change_religion = religion_wilderness
		remove_core = V17
	}
}

set_eriador_superregion_new_orc_nation = {
	eriador_superregion = {
		limit = {
			owned_by = X84
		}
		add_core = Y06
		cede_province = Y06
		remove_core = X84
	}
}

set_rhovanion_superregion_new_orc_nation = {
	if = {
		limit = {
			any_province = {
				owned_by = Z03
				superregion = rhovanion_superregion
			}
		}
		
		rhovanion_superregion = {
			limit = {
				owned_by = X84
				NOT = {
					province_id = 585
				}
				NOT = {
					region = rohan_region
				}
			}
			
			add_core = Z03
			cede_province = Z03
			remove_core = X84
		}
	}
	
	if = {
		limit = {
			NOT = {
				any_province = {
					owned_by = Z03
					superregion = rhovanion_superregion
				}
			}
		}
		
		rhovanion_superregion = {
			limit = {
				owned_by = X84
				NOT = {
					province_id = 585
				}
				NOT = {
					region = rohan_region
				}
			}
			
			add_core = Y09
			cede_province = Y09
			remove_core = X84
		}
	}
}

set_same_different_race_opinions_effect = {
	every_country = {
		limit = {
			technology_group = $RACE$
		}
		every_country = {
			
			if = {
				limit = {
					technology_group = $RACE$
				}
				PREV = {
					add_opinion = {
						who = PREV # Evil
						modifier = same_race
					}
				}
			}

			if = {
				limit = {
					NOT = {
						technology_group = $RACE$
					}
					
				}
				add_opinion = {
					who = PREV
					modifier = different_race
				}
			}
		}
	}
}

set_against_race_opinions_effect = {
	every_country = {
		limit = {
			is_free_peoples_opinion = yes
		}
		every_country = {
			limit = {
				is_servants_of_evil_opinion = yes
				PREV = {
					NOT = {
						has_opinion_modifier = {
							who = PREV
							modifier = against_servants_of_darkness
						}
					}
				}
			}
		   
			# Good
			PREV = {
				add_opinion = {
					who = PREV # Evil
					modifier = against_servants_of_darkness
				}
			}
		   
			add_opinion = {
				who = PREV
				modifier = against_free_peoples
			}
		}
	}
}

set_free_peoples_opinions_effect = {
	# Good Friendly
	every_country = {
		limit = {
			is_free_peoples_opinion = yes
		}
		every_country = {
			limit = {
				is_free_peoples_opinion = yes
				PREV = {
					NOT = {
						has_opinion_modifier = {
							who = PREV
							modifier = free_peoples
						}
					}
				}
			}
		   
			# Good
			PREV = {
				add_opinion = {
					who = PREV # Good
					modifier = free_peoples
				}
			}
		}
	}
}

set_servants_of_darkness_opinions_effect = {
	# Good Friendly
	every_country = {
		limit = {
			is_servants_of_evil_opinion = yes
		}
		every_country = {
			limit = {
				is_servants_of_evil_opinion = yes
				PREV = {
					NOT = {
						has_opinion_modifier = {
							who = PREV
							modifier = servants_of_darkness
						}
					}
				}
			}
		   
			# Good
			PREV = {
				add_opinion = {
					who = PREV # Good
					modifier = servants_of_darkness
				}
			}
		}
	}
}

#Human
set_country_modifier_human_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "human_buff" }
			technology_group = lotr_human
		}
		country_event = { 
			id = lotr_setup.4
		}
	}
}

#Dwarven
set_country_modifier_dwarven_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "dwarven_buff" }
			technology_group = lotr_dwarven
		}
		country_event = { 
			id = lotr_setup.5
		}
	}
}

#Dragon
set_country_modifier_dragon_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "dragon_buff" }
			technology_group = lotr_dragon
		}
		country_event = { 
			id = lotr_setup.6
		}
	}
}

#Elven
set_country_modifier_elven_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "elven_buff" }
			technology_group = lotr_elven
		}
		country_event = { 
			id = lotr_setup.7
		}
	}
}

#Ent
set_country_modifier_ent_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "ent_buff" }
			technology_group = lotr_ent
		}
		country_event = { 
			id = lotr_setup.8
		}
	}
}

#Erus Children (Great Eagles)
set_country_modifier_erus_children_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "erus_children_buff" }
			technology_group = lotr_erus_children
		}
		country_event = { 
			id = lotr_setup.9
		}
	}
}

#Goblin
set_country_modifier_goblin_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "goblin_buff" }
			technology_group = lotr_goblin
		}
		country_event = { 
			id = lotr_setup.10
		}
	}
}

#Giant
set_country_modifier_giant_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "giant_buff" }
			technology_group = lotr_giant
		}
		country_event = { 
			id = lotr_setup.11
		}
	}
}

#Great Spider
set_country_modifier_great_spider_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "great_spider_buff" }
			technology_group = lotr_great_spider
		}
		country_event = { 
			id = lotr_setup.12
		}
	}
}

#Half Dwarf
set_country_modifier_half_dwarf_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "half_dwarf_buff" }
			technology_group = lotr_half_dwarf
		}
		country_event = { 
			id = lotr_setup.13
		}
	}
}

#Hobbit
set_country_modifier_hobbit_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "hobbit_buff" }
			technology_group = lotr_hobbit
		}
		country_event = { 
			id = lotr_setup.14
		}
	}
}

#Half Orc
set_country_modifier_half_orc_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "half_orc_buff" }
			technology_group = lotr_half_orc
		}
		country_event = { 
			id = lotr_setup.15
		}
	}
}

#Orc
set_country_modifier_orc_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "orc_buff" }
			technology_group = lotr_orc
		}
		country_event = { 
			id = lotr_setup.16
		}
	}
}

#Troll
set_country_modifier_troll_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "troll_buff" }
			technology_group = lotr_troll
		}
		country_event = { 
			id = lotr_setup.17
		}
	}
}

#Uruk Hai
set_country_modifier_uruk_hai_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "uruk_hai_buff" }
			technology_group = lotr_uruk_hai
		}
		country_event = { 
			id = lotr_setup.18
		}
	}
}

#Wizard
set_country_modifier_wizard_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "wizard_buff" }
			technology_group = lotr_wizard
		}
		country_event = { 
			id = lotr_setup.19
		}
	}
}

#Wights
set_country_modifier_wights_effect = {
	every_country = {
		limit = {
			NOT = {	has_country_modifier =  "wights_buff" }
			technology_group = lotr_wights
		}
		country_event = { 
			id = lotr_setup.20
		}
	}
}

spawn_mordor_territory_effect = {
	mordor_region = {
		limit = {
			is_empty = yes
		}
		add_core = V17
		cede_province = V17
		change_culture = culture_orkish
		change_religion = religion_orkish
	}

	middle_earth = {
		discover_country = V17
	}
			
	V17 = {
		set_capital = 639
	}

	country_event = {
		id = lotr_general.45
	}
}

spawn_mordor_province_setup_effect = {	
	3030 = {
		change_trade_goods = wool
	}

	327 = {
		change_trade_goods = copper
	}

	151 = {
		change_trade_goods = iron
	}
	
	3034 = {
		change_trade_goods = copper
	}

	108 = {
		change_trade_goods = silk
	}
	
	1633 = {
		change_trade_goods = iron
	}
	
	580 = {
		change_trade_goods = gems
	}
	
	1634 = {
		change_trade_goods = gold
	}
	
	3042 = {
		change_trade_goods = fur
	}
	
	326 = {
		change_trade_goods = slaves
	}
	
	1005 = {
		change_trade_goods = iron
	}
	
	3041 = {
		change_trade_goods = wool
	}

	325 = {
		change_trade_goods = silk
	}

	1007 = {
		change_trade_goods = silk
	}

	1004 = {
		change_trade_goods = copper
	}

	977 = {
		change_trade_goods = stone
	}

	3045 = {
		change_trade_goods = iron
	}

	3038 = {
		change_trade_goods = stone
	}

	3037 = {
		change_trade_goods = copper
	}

	3044 = {
		change_trade_goods = copper
	}

	231 = {
		change_trade_goods = stone
	}

	1020 = {
		change_trade_goods = stone
	}

	3225 = {
		change_trade_goods = silver
	}

	3227 = {
		change_trade_goods = fur
	}

	148 = {
		change_trade_goods = copper
	}

	3033 = {
		change_trade_goods = paper
	}

	146 = {
		change_trade_goods = salt
	}

	3048 = {
		change_trade_goods = gold
	}

	3049 = {
		change_trade_goods = fur
	}

	3047 = {
		change_trade_goods = copper
	}

	647 = {
		change_trade_goods = iron
	}

	639 = {
		change_trade_goods = iron
		
		add_province_modifier = {
			name = ruins_debuff 
			duration = 1095
		}
	}
		
	3028 = {
		change_trade_goods = copper
	}
		
	1021 = {
		change_trade_goods = coal
	}

	147 = {
		change_trade_goods = stone
	}

	3040 = {
		change_trade_goods = silk
	}

	150 = {
		change_trade_goods = livestock
	}

	3029 = {
		change_trade_goods = stone
	}

	3039 = {
		change_trade_goods = stone
	}

	149 = {
		change_trade_goods = iron
	}

	71 = {
		change_trade_goods = coal
	}

	675 = {
		change_trade_goods = iron

		add_province_modifier = {
			name = ruins_debuff 
			duration = 1095
		}
	}
}

spawn_mordor_vassal_effect = {
	V17 = {
		add_opinion = {
			who = $VASSAL$
			modifier = dol_guldur_servant
			years = 500
		}
	}
	
	$VASSAL$ = {
		add_opinion = {
			who = V17
			modifier = mordor_master
			years = 500
		}
		add_country_modifier = {
			name = mordor_orc_servant_subject
			duration = -1
		}
	}

	V17 = {
		vassalize = $VASSAL$
	}
}

mordor_vassal_modifier_effect = {
	V17 = {
		add_opinion = {
			who = $VASSAL$
			modifier = dol_guldur_servant
			years = 500
		}
	}
	
	$VASSAL$ = {
		add_opinion = {
			who = V17
			modifier = mordor_master
			years = 500
		}
		add_country_modifier = {
			name = mordor_orc_servant_subject
			duration = -1
		}
	}
}

mordor_nurnoth_modifier_effect = {
	
	$VASSAL$ = {
		add_opinion = {
			who = V17
			modifier = nurnoth_mordor_relation
			years = 500
		}
		add_country_modifier = {
			name = mordor_nurnoth_subject
			duration = -1
		}
	}
}

spawn_morder_transfer_tech = {
	#export_to_variable = {
	#	which = adm_tech_var
	#	value = adm_tech
	#	who = $SPAWNED_MORDOR$
	#}

	#export_to_variable = {
	#	which = dip_tech_var
	#	value = dip_tech
	#	who = $SPAWNED_MORDOR$
	#}

	#export_to_variable = {
	#	which = mil_tech_var
	#	value = mil_tech
	#	who = $SPAWNED_MORDOR$
	#}

	V17 = {
	#	add_adm_tech = adm_tech_var
	#	add_dip_tech = dip_tech_var
	#	add_mil_tech = mil_tech_var
		add_treasury = 300
	}
}

spawn_mordor_refused_effect = {
	V17 = {
		add_opinion = {
			who = $REFUSED_COUNTRY$
			modifier = servant_of_mordor_refused
			years = 100
		}
	}
}

desolation_of_smaug_won_effect = {
	hidden_effect = {
		every_province = {
			kill_units = {
				who = owner
				type = lotr_elven_silvan_poachers_3
				amount = 1000
			}
			kill_units = {
				who = owner
				type = lotr_elven_silvan_mounted_sentinels_2
				amount = 1000
			}
		}
	}
}

desolation_of_smaug_lost_effect = {
	if = { 
		limit = {
			528 = {
				owned_by = Y94
			}
		}
		Y94 = {
			change_tag = V51
			set_capital = 528
		}
	}

	287 = {
		cede_province = ---
		change_culture = culture_dragons
		change_religion = religion_dragons
		add_province_modifier = {
			name = ruins_debuff
			duration = -1
		}
	}

	1903 = {
		cede_province = ---
		change_culture = culture_wilderness
		change_religion = religion_wilderness
	}

	1951 = {
		cede_province = ---
		change_culture = culture_wilderness
		change_religion = religion_wilderness
	}

	527 = {
		cede_province = ---
		change_culture = culture_wilderness
		change_religion = religion_wilderness
		add_province_modifier = {
			name = ruins_debuff
			duration = -1
		}
	}

	3175 = {
		if = {
			limit = {
				exists = Y23
			}
			cede_province = Y23
		}
		else_if = {
			limit = {
				exists = Y34
			}
			cede_province = Y34
		}
		else_if = {
			limit = {
				exists = Y30
			}
			cede_province = Y30
		}
		else = {
			cede_province = ---
		}
		
		change_culture = culture_troll
		change_religion = religion_olog
	}

	every_owned_province = {
		limit = {
			OR = {
				culture_group = culture_group_dwarves
				religion = religion_mahal
			}
		}

		add_core = Y23
		remove_core = ROOT
		cede_province = Y23
	}

	every_owned_province = {
		limit = {
			culture = culture_ymirsfolk
		}

		add_core = Y90
		remove_core = ROOT
		cede_province = Y90
	}

	every_owned_province = {
		limit = {
			culture = culture_ymirsfolk
		}

		add_core = Y90
		remove_core = ROOT
		cede_province = Y90
	}

	every_owned_province = {
		limit = {
			NOT = {
				culture = culture_ymirsfolk
			}
			religion = religion_nenedain
		}

		add_core = V51
		remove_core = ROOT
		cede_province = V51
	}

	every_owned_province = {
		cede_province = ---
	}
}

setup_global_flag_after_2759 = {
	set_global_flag = isengard_spawned
}

setup_global_flag_after_2770 = {
	set_global_flag = isengard_spawned

	set_global_flag = desolation_of_smaug_start
	set_global_flag = desolation_of_smaug_no_aid
	set_global_flag = desolation_of_smaug_lost
}

setup_global_flag_after_2793 = {
	set_global_flag = isengard_spawned

	set_global_flag = desolation_of_smaug_start
	set_global_flag = desolation_of_smaug_no_aid
	set_global_flag = desolation_of_smaug_lost

	set_global_flag = war_of_the_dwarves_and_orcs
	set_global_flag = war_of_the_dwarves_and_orcs_starts
	set_global_flag = war_of_the_dwarves_and_orcs_lost
}

setup_global_flag_after_2941 = {
	set_global_flag = isengard_spawned

	set_global_flag = desolation_of_smaug_start
	set_global_flag = desolation_of_smaug_no_aid
	set_global_flag = desolation_of_smaug_lost

	set_global_flag = war_of_the_dwarves_and_orcs
	set_global_flag = war_of_the_dwarves_and_orcs_starts
	set_global_flag = war_of_the_dwarves_and_orcs_lost

	set_global_flag = company_of_thorin_sur_smaug
	set_global_flag = company_of_thorin_thorin_dies
	set_global_flag = company_of_thorin_over
}

setup_global_flag_after_2942 = {
	set_global_flag = isengard_spawned

	set_global_flag = desolation_of_smaug_start
	set_global_flag = desolation_of_smaug_no_aid
	set_global_flag = desolation_of_smaug_lost

	set_global_flag = war_of_the_dwarves_and_orcs
	set_global_flag = war_of_the_dwarves_and_orcs_starts
	set_global_flag = war_of_the_dwarves_and_orcs_lost

	set_global_flag = company_of_thorin_sur_smaug
	set_global_flag = company_of_thorin_thorin_dies
	set_global_flag = company_of_thorin_over

	set_global_flag = mordor_spawned
}

setup_global_flag_after_2953 = {
	set_global_flag = isengard_spawned

	set_global_flag = desolation_of_smaug_start
	set_global_flag = desolation_of_smaug_no_aid
	set_global_flag = desolation_of_smaug_lost

	set_global_flag = war_of_the_dwarves_and_orcs
	set_global_flag = war_of_the_dwarves_and_orcs_starts
	set_global_flag = war_of_the_dwarves_and_orcs_lost

	set_global_flag = company_of_thorin_sur_smaug
	set_global_flag = company_of_thorin_thorin_dies
	set_global_flag = company_of_thorin_over

	set_global_flag = mordor_spawned

	set_global_flag = isengard_turned_uruk_hai
}

split_mordor_nation = {
	$REGION$ = {
		limit = {
			owned_by = V17
		}
		add_core = $COUNTRY$
		cede_province = $COUNTRY$
		remove_core = V17
	}
}